<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https://eu.i.posthog.com https://cdn.jsdelivr.net https://eu-assets.i.posthog.com; img-src 'self' https://media.githubusercontent.com data: blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://unpkg.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline';">
    <title>Wheel Percentage Testing - Find Your Perfect Balance</title>
    <link rel="icon" type="image/png" href="../assets/images/beasty-favicon-rounded.png">
    <link rel="stylesheet" href="../assets/styles/pages/wheel-test.css">
    <!-- CrazyTim's spin-wheel library from CDN -->
    <script type="module" src="../js/posthog-init.js"></script>
    <script src="https://unpkg.com/spin-wheel@5.0.2/dist/spin-wheel-iife.js"></script>
    <script src="../js/pages/wheel-test.js"></script>
</head>
<body>
    <!-- Floating back button -->
    <a class="back-btn" href="../index.html">‚Üê Back</a>
    
    <!-- Animated glass background -->
    <div class="bg"></div>
    <div class="blob a"></div>
    <div class="blob b"></div>
    <div class="blob c"></div>
    <div class="noise"></div>

    <div class="container">
        <header class="test-header">
            <h1>Wheel Percentage Testing Lab</h1>
            <p>Find the perfect balance for your gacha rates</p>
        </header>

        <div class="wheels-grid">
            <!-- Wheel 1: Original (Very Hard) - moved to first position -->
            <div class="wheel-card">
                <h3>Original (Very Hard)</h3>
                <div class="wheel-container" id="wheel1">
                    <button class="spin-btn" data-wheel="1">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats1">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates">
                    <div><span class="rarity-dot moondust"></span>79.999%</div>
                    <div><span class="rarity-dot starborn"></span>12%</div>
                    <div><span class="rarity-dot lunara"></span>5%</div>
                    <div><span class="rarity-dot celestara"></span>2%</div>
                    <div><span class="rarity-dot divinara"></span>0.999%</div>
                    <div><span class="rarity-dot holo-nova"></span>0.001%</div>
                    <div><span class="rarity-dot singularity"></span>0.00001%</div>
                </div>
            </div>

            <!-- Wheel 2: Exponential Drop - moved to second position -->
            <div class="wheel-card">
                <h3>Exponential Drop</h3>
                <div class="wheel-container" id="wheel2">
                    <button class="spin-btn" data-wheel="2">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats2">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates">
                    <div><span class="rarity-dot moondust"></span>65%</div>
                    <div><span class="rarity-dot starborn"></span>20%</div>
                    <div><span class="rarity-dot lunara"></span>9%</div>
                    <div><span class="rarity-dot celestara"></span>4%</div>
                    <div><span class="rarity-dot divinara"></span>1.5%</div>
                    <div><span class="rarity-dot holo-nova"></span>0.4%</div>
                    <div><span class="rarity-dot singularity"></span>0.1%</div>
                </div>
            </div>

            <!-- Wheel 3: Halving Pattern - moved to third position -->
            <div class="wheel-card">
                <h3>Halving Pattern</h3>
                <div class="wheel-container" id="wheel3">
                    <button class="spin-btn" data-wheel="3">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats3">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates">
                    <div><span class="rarity-dot moondust"></span>50%</div>
                    <div><span class="rarity-dot starborn"></span>25%</div>
                    <div><span class="rarity-dot lunara"></span>12.5%</div>
                    <div><span class="rarity-dot celestara"></span>6.25%</div>
                    <div><span class="rarity-dot divinara"></span>3.125%</div>
                    <div><span class="rarity-dot holo-nova"></span>1.5625%</div>
                    <div><span class="rarity-dot singularity"></span>0.78125%</div>
                </div>
            </div>

            <!-- Wheel 4: Fibonacci-like - moved to fourth position -->
            <div class="wheel-card">
                <h3>Fibonacci-like</h3>
                <div class="wheel-container" id="wheel4">
                    <button class="spin-btn" data-wheel="4">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats4">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates">
                    <div><span class="rarity-dot moondust"></span>45%</div>
                    <div><span class="rarity-dot starborn"></span>27%</div>
                    <div><span class="rarity-dot lunara"></span>16%</div>
                    <div><span class="rarity-dot celestara"></span>8%</div>
                    <div><span class="rarity-dot divinara"></span>3%</div>
                    <div><span class="rarity-dot holo-nova"></span>0.8%</div>
                    <div><span class="rarity-dot singularity"></span>0.2%</div>
                </div>
            </div>

            <!-- Wheel 5: Linear Decrease - moved to fifth position -->
            <div class="wheel-card">
                <h3>Linear Decrease</h3>
                <div class="wheel-container" id="wheel5">
                    <button class="spin-btn" data-wheel="5">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats5">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates">
                    <div><span class="rarity-dot moondust"></span>40%</div>
                    <div><span class="rarity-dot starborn"></span>25%</div>
                    <div><span class="rarity-dot lunara"></span>15%</div>
                    <div><span class="rarity-dot celestara"></span>10%</div>
                    <div><span class="rarity-dot divinara"></span>6%</div>
                    <div><span class="rarity-dot holo-nova"></span>3%</div>
                    <div><span class="rarity-dot singularity"></span>1%</div>
                </div>
            </div>

            <!-- Wheel 6: Custom (Adjustable) - remains in last position -->
            <div class="wheel-card">
                <h3>Custom (Adjustable)</h3>
                <div class="wheel-container" id="wheel6">
                    <button class="spin-btn" data-wheel="6">SPIN</button>
                    <div class="pointer"></div>
                </div>
                <div class="stats" id="stats6">
                    <div class="spins">Spins: 0</div>
                    <div class="results"></div>
                </div>
                <div class="rates custom-rates">
                    <div><span class="rarity-dot moondust"></span><input type="number" id="rate-moondust" value="50" min="0" max="100" step="0.1">%</div>
                    <div><span class="rarity-dot starborn"></span><input type="number" id="rate-starborn" value="23" min="0" max="100" step="0.1">%</div>
                    <div><span class="rarity-dot lunara"></span><input type="number" id="rate-lunara" value="14" min="0" max="100" step="0.1">%</div>
                    <div><span class="rarity-dot celestara"></span><input type="number" id="rate-celestara" value="8" min="0" max="100" step="0.1">%</div>
                    <div><span class="rarity-dot divinara"></span><input type="number" id="rate-divinara" value="4" min="0" max="100" step="0.1">%</div>
                    <div><span class="rarity-dot holo-nova"></span><input type="number" id="rate-holo-nova" value="0.8" min="0" max="100" step="0.001">%</div>
                    <div><span class="rarity-dot singularity"></span><input type="number" id="rate-singularity" value="0.2" min="0" max="100" step="0.001">%</div>
                </div>
                <button class="update-btn" onclick="updateCustomWheel()">Update Wheel</button>
                <div class="total-check">Total: <span id="total-percentage">100%</span></div>
            </div>
        </div>

        <!-- Global Controls -->
        <div class="global-controls">
            <button onclick="resetAllStats()">Reset All Stats</button>
            <button onclick="spinAll()">Spin All Wheels</button>
            <button onclick="simulateSpins(100)">Simulate 100 Spins</button>
            <button onclick="simulateSpins(500)">Simulate 500 Spins</button>
            <button onclick="simulateSpins(1000)">Simulate 1000 Spins</button>
            <button onclick="simulateSpins(10000)">Simulate 10000 Spins</button>
            <button onclick="exportStats()">Export Stats</button>
        </div>

        <!-- Statistics Summary -->
        <div class="stats-summary" id="statsSummary">
            <h3>Comparative Statistics</h3>
            <div id="comparisonTable"></div>
        </div>
    </div>
</body>
</html>