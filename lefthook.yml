pre-commit:
  commands:
    gitleaks:
      run: gitleaks git --staged --no-banner
      fail_text: "Secrets detected! Remove before committing."
    ruff-lint:
      glob: "backend/**/*.py"
      run: ruff check --fix {staged_files}
    ruff-format:
      glob: "backend/**/*.py"
      run: ruff format {staged_files}
    tsc:
      glob: "frontend/**/*.{ts,tsx}"
      run: cd frontend && bunx tsc --noEmit
    tsc-discord-bot:
      glob: "backend/discord-bot/**/*.ts"
      run: cd backend/discord-bot && npx tsc --noEmit
